# Switcher VPN Keenetic Bot

Telegram-–±–æ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —Ä–æ—É—Ç–µ—Ä–æ–≤ Keenetic.

## üìù –û–ø–∏—Å–∞–Ω–∏–µ

–ë–æ—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–ª–∏—Ç–∏–∫–æ–π –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–∏—Ç–∏–∫–æ–π —É—Å—Ç—Ä–æ–π—Å—Ç–≤**  
  –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Policy0` / `default`) —á–µ—Ä–µ–∑ inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—É Telegram.

- **–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤**  
  –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤, –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã—Ö –∫ —Ä–æ—É—Ç–µ—Ä—É Keenetic.

- **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª–∏—Ç–∏–∫–∏ —á–µ—Ä–µ–∑ —ç–º–æ–¥–∑–∏**
    - üü¢ ‚Äî `Policy0`
    - ‚ö™ ‚Äî `default`

- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤**  
  –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º, –æ—Ç–º–µ—á–µ–Ω–Ω—ã–º –∫–∞–∫ "–∏–∑–±—Ä–∞–Ω–Ω—ã–µ".

- **–ê–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤**  
  –°–æ—Å—Ç–æ—è–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

- **–•—Ä–∞–Ω–µ–Ω–∏–µ ID –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞**  
  –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è ID –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è, —á—Ç–æ–±—ã –Ω–µ —Ä–∞–∑—Ä–∞—Å—Ç–∞–ª–∞—Å—å –∏—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π.

- **–†–∞–±–æ—Ç–∞ —á–µ—Ä–µ–∑ webhook**  
  –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π Telegram –±–µ–∑ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –æ–ø—Ä–æ—Å–∞ —Å–µ—Ä–≤–µ—Ä–∞ (polling).

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **PHP 8+**
- [GuzzleHTTP](https://github.com/guzzle/guzzle) ‚Äî HTTP-–∑–∞–ø—Ä–æ—Å—ã –∫ —Ä–æ—É—Ç–µ—Ä—É
- [Vjik Telegram Bot API](https://github.com/vjik/telegram-bot-api) ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram API
- [Dotenv](https://github.com/vlucas/phpdotenv) ‚Äî –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

## ‚ö° –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   git clone https://github.com/–≤–∞—à_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å/switcher_vpn_keenetic_bot.git

2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞:

    ```cd switcher_vpn_keenetic_bot```
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ Composer:

   ```composer install```
4. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –∏ –¥–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
   
```
ROUTE_BASEURI=–∞–¥—Ä–µ—Å_—Ä–æ—É—Ç–µ—Ä–∞
ROUTE_LOGIN=–ª–æ–≥–∏–Ω
ROUTE_PASS=–ø–∞—Ä–æ–ª—å
TOKEN_TELEGRAM=—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
```
5. –í —Ñ–∞–π–ª–µ KeeneticAPI.php –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–µ FAV_DEVICES_MACS —É–∫–∞–∂–∏—Ç–µ MAC-–∞–¥—Ä–µ—Å–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ –≤–∏–¥–µ—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º:
  ```php 
private const FAV_DEVICES_MACS = [
   'ce:7b:6f:65:fd:6e',
   '46:36:fe:b5:de:d8',
   // –¥–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–∏ MAC-–∞–¥—Ä–µ—Å–∞
   ];
   ``` 

6. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ webhook –¥–ª—è –±–æ—Ç–∞, —á—Ç–æ–±—ã Telegram –æ—Ç–ø—Ä–∞–≤–ª—è–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä:
```bash 
https://api.telegram.org/bot<–í–ê–®_–¢–û–ö–ï–ù>/setWebhook?url=https://yourdomain.com/path_to_bot
```
7. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:
   ```php index.php```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –≤ Telegram-–±–æ—Ç–µ
2. –ë–æ—Ç –ø–æ–∫–∞–∂–µ—Ç —Å–ø–∏—Å–æ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —Å —Ç–µ–∫—É—â–µ–π –ø–æ–ª–∏—Ç–∏–∫–æ–π –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, —á—Ç–æ–±—ã –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –ø–æ–ª–∏—Ç–∏–∫—É.
4. –ö–Ω–æ–ø–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, –∞ —Å—Ç–∞—Ç—É—Å –ø–æ–ª–∏—Ç–∏–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ —ç–º–æ–¥–∑–∏
5. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏, –±–æ—Ç —É–¥–∞–ª—è–µ—Ç —Å–≤–æ—ë –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–æ–≤–æ–µ.
